<article>
    <h2>Introdu√ß√£o ao Async/Await no JavaScript</h2>
    <p>
      Trabalhar com c√≥digo ass√≠ncrono pode ser desafiador. Antes do <code>async/await</code>, us√°vamos callbacks, o que frequentemente resultava no que chamamos de "callback hell" ou "pir√¢mide da desgra√ßa", com fun√ß√µes aninhadas dentro de fun√ß√µes. Promises melhoraram isso, mas ainda podem ser dif√≠ceis de ler. Felizmente, com vers√µes mais recentes do JavaScript, temos o <code>async/await</code>, que torna o c√≥digo mais leg√≠vel e f√°cil de entender.
    </p>
  
    <section>
      <h2>Exemplo Pr√°tico com Async/Await</h2>
      <p>
        Vamos criar um exemplo pr√°tico onde buscamos uma imagem aleat√≥ria de um gato utilizando <code>async/await</code>. Veja o HTML necess√°rio:
      </p>
      <pre class="code-block">
        üìÑ HTML para o exemplo:
        <code>
  <button id="cat-btn">Mostrar Gato</button>
  <div id="cat-target"></div>
        </code>
      </pre>
      <p>Agora, o c√≥digo JavaScript:</p>
      <pre class="code-block">
        üìÑ Exemplo de Async/Await:
        <code>
  const CAT_URL = "https://api.thecatapi.com/v1/images/search";
  
  const gatos = document.getElementById("cat-target");
  
  async function adicionarGato() {
    try {
      const resposta = await fetch(CAT_URL); // Faz a requisi√ß√£o
      const dados = await resposta.json(); // Converte a resposta para JSON
      const img = document.createElement("img");
      img.src = dados[0].url; // URL da imagem do gato
      img.alt = "Imagem de um gato fofo";
      gatos.appendChild(img);
    } catch (erro) {
      console.error("Erro ao buscar a imagem do gato:", erro);
    }
  }
  
  document.getElementById("cat-btn").addEventListener("click", adicionarGato);
        </code>
      </pre>
      <p>
        Neste exemplo, ao clicar no bot√£o, uma imagem aleat√≥ria de um gato ser√° exibida na p√°gina. Vamos entender o que est√° acontecendo:
      </p>
      <ul>
        <li>
          <code>async</code>: Declara que a fun√ß√£o √© ass√≠ncrona, permitindo o uso de <code>await</code> dentro dela.
        </li>
        <li>
          <code>await</code>: Pausa a execu√ß√£o da fun√ß√£o at√© que a Promise seja resolvida. Isso torna o c√≥digo mais linear e f√°cil de ler.
        </li>
        <li>
          <code>try/catch</code>: Captura erros que possam ocorrer durante a execu√ß√£o da fun√ß√£o ass√≠ncrona.
        </li>
      </ul>
    </section>
  
    <section>
      <h2>Como Funciona o Async/Await?</h2>
      <p>
        O <code>await</code> √© usado para "esperar" que uma Promise seja resolvida antes de continuar a execu√ß√£o do c√≥digo. Isso significa que, na linha onde usamos <code>await</code>, a fun√ß√£o pausa sua execu√ß√£o at√© que a Promise retorne um valor. Vamos ver um exemplo simples:
      </p>
      <pre class="code-block">
        üìÑ Exemplo Simples:
        <code>
  async function obterNome() {
    return "Maria";
  }
  
  console.log("Uma Promise:", obterNome());
  
  obterNome().then(function (nome) {
    console.log("O nome real:", nome);
  });
        </code>
      </pre>
      <p>
        Apesar de n√£o usarmos <code>await</code> dentro da fun√ß√£o <code>obterNome</code>, ela ainda retorna uma Promise porque foi declarada como <code>async</code>. Isso √© importante para entender como <code>async</code> e <code>await</code> funcionam.
      </p>
    </section>
  
    <section>
      <h2>Exemplo com Requisi√ß√£o de Dados</h2>
      <p>
        Vamos criar um exemplo onde buscamos uma piada aleat√≥ria utilizando uma API p√∫blica. Veja o HTML necess√°rio:
      </p>
      <pre class="code-block">
        üìÑ HTML para o exemplo:
        <code>
  <button id="joke-btn">Mostrar Piada</button>
  <p id="joke-target"></p>
        </code>
      </pre>
      <p>Agora, o c√≥digo JavaScript:</p>
      <pre class="code-block">
        üìÑ Exemplo de Requisi√ß√£o com Async/Await:
        <code>
  const JOKE_URL = "https://icanhazdadjoke.com/";
  
  const piadaElemento = document.getElementById("joke-target");
  
  async function mostrarPiada() {
    try {
      const resposta = await fetch(JOKE_URL, {
        headers: { Accept: "application/json" },
      });
      const dados = await resposta.json();
      piadaElemento.textContent = dados.joke; // Exibe a piada no par√°grafo
    } catch (erro) {
      console.error("Erro ao buscar a piada:", erro);
      piadaElemento.textContent = "N√£o foi poss√≠vel carregar a piada.";
    }
  }
  
  document.getElementById("joke-btn").addEventListener("click", mostrarPiada);
        </code>
      </pre>
      <p>
        Neste exemplo, ao clicar no bot√£o, uma piada aleat√≥ria ser√° exibida no par√°grafo. O uso de <code>async/await</code> torna o c√≥digo mais leg√≠vel e f√°cil de entender.
      </p>
    </section>
  
    <section>
      <h2>Desafio Pr√°tico</h2>
      <p>Agora √© sua vez! Complete o desafio abaixo para praticar o que aprendeu:</p>
      <ul>
        <li>Crie um bot√£o que, ao ser clicado, fa√ßa uma requisi√ß√£o para uma API p√∫blica de fatos sobre n√∫meros (<a href="http://numbersapi.com/" target="_blank">Numbers API</a>).</li>
        <li>Exiba o fato retornado em um elemento HTML na p√°gina.</li>
        <li>Adicione um tratamento de erro para exibir uma mensagem caso a API n√£o responda.</li>
      </ul>
      <p>Crit√©rios de sucesso:</p>
      <ul>
        <li>O fato deve ser exibido em um par√°grafo na p√°gina.</li>
        <li>O c√≥digo deve ser funcional e livre de erros.</li>
      </ul>
    </section>
  
    <section>
      <h2>Dicas e Melhores Pr√°ticas</h2>
      <ul>
        <li>Use <code>try/catch</code> para capturar erros e evitar que o aplicativo quebre.</li>
        <li>Valide os dados retornados pela API antes de utiliz√°-los.</li>
        <li>Evite bloquear a interface do usu√°rio com opera√ß√µes ass√≠ncronas demoradas.</li>
      </ul>
    </section>
  
    <section>
      <h2>Perguntas Frequentes</h2>
      <details>
        <summary>O que √© <code>async/await</code>?</summary>
        <p>
          <code>async/await</code> √© uma sintaxe do JavaScript que permite trabalhar com c√≥digo ass√≠ncrono de forma mais leg√≠vel, pausando a execu√ß√£o de uma fun√ß√£o at√© que uma Promise seja resolvida.
        </p>
      </details>
      <details>
        <summary>Qual a diferen√ßa entre <code>async/await</code> e Promises?</summary>
        <p>
          Promises s√£o a base do <code>async/await</code>. Enquanto Promises utilizam encadeamento com <code>then</code>, <code>async/await</code> permite escrever o c√≥digo de forma mais linear e leg√≠vel.
        </p>
      </details>
      <details>
        <summary>Posso usar <code>await</code> fora de uma fun√ß√£o <code>async</code>?</summary>
        <p>
          N√£o, o <code>await</code> s√≥ pode ser usado dentro de fun√ß√µes declaradas como <code>async</code>.
        </p>
      </details>
    </section>
  </article>